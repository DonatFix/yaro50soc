window.LimeSpot=void 0===window.LimeSpot?{}:LimeSpot,LimeSpot.IsNullOrEmpty=function(e){return void 0===e||null==e||""==e&&"boolean"!=typeof e},LimeSpot.SetCookie=function(e,t,o){var n=new Date;n.setDate(n.getDate()+o);var r=escape(t)+(null==o||null==o?"":"; expires="+n.toUTCString());r+="; Path=/; SameSite=None; Secure",document.cookie=e+"="+r},LimeSpot.GetCookie=function(e){var t,o,n,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(o=r[t].substr(0,r[t].indexOf("=")),n=r[t].substr(r[t].indexOf("=")+1),(o=o.replace(/^\s+|\s+$/g,""))==e)return unescape(n)},LimeSpot.IsLocalStorageSupported=function(){try{return"object"==typeof window.localStorage&&"function"==typeof window.localStorage.getItem}catch{return!1}},LimeSpot.SetLocalStorageValue=function(e,t){LimeSpot.IsLocalStorageSupported()?localStorage.setItem(e,t):LimeSpot.SetCookie(e,t)},LimeSpot.GetLocalStorageValue=function(e){return LimeSpot.IsLocalStorageSupported()?localStorage.getItem(e):LimeSpot.GetCookie(e)},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return 0==this.indexOf(e)}),window.LimeSpot=void 0===window.LimeSpot?{}:LimeSpot,LimeSpot.GetUrlParam=function(e,t){if(void 0===t&&(t=location.search),e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(t))return decodeURIComponent(e[1])},LimeSpot.IsNullOrEmpty=function(e){return void 0===e||null==e||""==e&&"boolean"!=typeof e},LimeSpot.SyncContext=function(){parent.postMessage(JSON.stringify({Owner:"LimeSpot",Target:"*",Command:"SyncContext",Context:LimeSpot.Context}),"*")},window.addEventListener("message",(function(e){if(null!=e&&null!=e&&null!=e.data&&null!=e.data&&"function"==typeof e.data.indexOf&&!(e.data.indexOf("LimeSpot")<0)){var t=JSON.parse(e.data);if("*"!=t.Target){if(t.Target==LimeSpot.GetUrlParam("channelID")){var o=e.origin;null!=o&&"null"!=o||(o="*"),handleRequest(t.Method,t.Params,(function(e){parent.postMessage(JSON.stringify({Owner:"LimeSpot",CallbackID:t.SuccessCallbackID,Target:t.Source,Result:e}),o)}),(function(e,n,r){var i=function(e,t,o){var n=e.responseText;if(LimeSpot.IsNullOrEmpty(n))o?19===o.code?n="Method is undefined or Web API Server is not accessible at "+LimeSpot.ApiServerUrl:""!=o.message&&null!=o.message&&(n=o.message):n="Unknown error!";else try{var r=JSON.parse(n);LimeSpot.IsNullOrEmpty(r)||(n=r.Message)}catch(e){}return e.status+" - "+n}(e,0,r);null!=i&&console.error("LimeSpot "+t.Method+": "+i),parent.postMessage(JSON.stringify({Owner:"LimeSpot",CallbackID:t.ErrorCallbackID,Target:t.Source,Result:{JqXHR:e,TextStatus:n,ErrorThrown:r}}),o)}))}}else switch(t.Command){case"SyncContext":LimeSpot.ApiServerUrl=t.ApiServerUrl,LimeSpot.Context=t.Context}}}),!1);